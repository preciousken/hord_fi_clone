import{j as t,I as V,p as _,B as R,bj as Be,r as s,S as C,f as Fe,u as Ve,bk as He,c as i,T as We,k as $e,t as P,e as De}from"./index-DrakyAIp.js";function Ge({icon:n,title:o,content:u}){return t.jsxs("div",{className:"d-flex flex-center flex-column empty-state-container",children:[t.jsx("div",{className:"bg-neutral-200 p-3 border-sm-1 mb-4 flex-center",children:typeof n!="string"?n:t.jsx(V,{name:n})}),t.jsxs("div",{className:"d-flex flex-center flex-column gap-2",children:[t.jsx(_,{text:o,className:"empty-state-title"}),t.jsx(_,{text:u,className:"empty-state-content text-color-secondary"})]})]})}function Ze({children:n}){return t.jsxs(R,{borderRadius:15,className:"w-100 relative expanded-row-wrapper d-flex flex-column",children:[t.jsx(R,{className:"fake-filler",bg:Be.black2}),t.jsx(R,{className:"flex-1 expanded-row-box",children:n})]})}function Oe({loading:n,children:o,count:u,wrapperClass:T,...E}){const S=s.useMemo(()=>new Array(u).fill({}).map(()=>({id:Math.random()})),[u]);return t.jsx(t.Fragment,{children:n?t.jsx(C,{at:n,children:t.jsx("div",{className:T,children:S.map(k=>t.jsx(Fe,{...E,loading:!0},k.id))})}):o})}const ze=n=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:21,height:20,viewBox:"0 0 21 20",fill:"none",...n},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2499 3.125C10.4157 3.125 10.5746 3.19085 10.6919 3.30806L14.8585 7.47473C15.1026 7.7188 15.1026 8.11453 14.8585 8.35861C14.6144 8.60269 14.2187 8.60269 13.9746 8.35861L10.8749 5.25888V12.0833C10.8749 12.6778 11.0584 13.5833 11.5905 14.3223C12.0996 15.0294 12.9536 15.625 14.4166 15.625C14.7618 15.625 15.0416 15.9048 15.0416 16.25C15.0416 16.5952 14.7618 16.875 14.4166 16.875C12.5462 16.875 11.3169 16.0817 10.576 15.0527C9.85812 14.0556 9.62492 12.8778 9.62492 12.0833V5.25888L6.52519 8.35861C6.28112 8.60269 5.88539 8.60269 5.64131 8.35861C5.39723 8.11453 5.39723 7.7188 5.64131 7.47473L9.80798 3.30806C9.92519 3.19085 10.0842 3.125 10.2499 3.125Z",fill:"#6140EF"})),Je=ze,Ke=n=>s.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.59957 9.26656C3.79483 9.0713 4.11142 9.0713 4.30668 9.26656L7.99979 12.9597L11.6929 9.26656C11.8882 9.0713 12.2047 9.0713 12.4 9.26656C12.5953 9.46183 12.5953 9.77841 12.4 9.97367L8.35335 14.0203C8.25958 14.1141 8.1324 14.1668 7.99979 14.1668C7.86718 14.1668 7.74001 14.1141 7.64624 14.0203L3.59957 9.97367C3.40431 9.77841 3.40431 9.46183 3.59957 9.26656Z",fill:"#272727"}),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99984 1.8335C8.27598 1.8335 8.49984 2.05735 8.49984 2.3335V13.5535C8.49984 13.8296 8.27598 14.0535 7.99984 14.0535C7.7237 14.0535 7.49984 13.8296 7.49984 13.5535V2.3335C7.49984 2.05735 7.7237 1.8335 7.99984 1.8335Z",fill:"#272727"})),Ue=Ke;function Qe({dataSourse:n=[],cols:o=[],unsortableCols:u=[],rowClass:T="table-row",shownColsAtMobile:E=[o?.[0]?.id],mobileCols:S,isMobileMethod:k=De,onRecordClick:ee,hiddenCols:A=[],hiddenTitles:te=[],hideHeader:M=!1,idProp:a="id",noDataText:H="Nothing to show here yet",noDataContent:se,sortable:ne,defaultSortProp:re,defaultSortCol:W,defaultIsAsc:le,loading:j,clickable:$,onSort:D,expandable:b,renderExpand:ie,expandAllRef:m,className:ae,rowsToShow:h=8,keyMapper:ce}){const L=s.useRef([]),Z=s.useRef([]),w=s.useRef(null),x=s.useRef(null),I=s.useRef(null),[oe,de]=s.useState(!1),ue=Ve(),N=k(ue),fe=s.useRef(null),[c,me]=s.useState(re||""),[O,z]=s.useState(null),[f,J]=s.useState(le||!1),[v,B]=s.useState([]),p=s.useMemo(()=>o.find(e=>e.id===(W||c)),[o.length,c]),y=e=>v.includes(e?.[a]),he=e=>v.filter(l=>l!==e?.[a]),xe=e=>[...v,e?.[a]||""],pe=e=>{if(ee?.(e),!N)return;const r=y(e)?he(e):xe(e);B(r)},ge=()=>J(!f),F=e=>u.includes(e.id),Ce=e=>{F(e)||(me(e?.id),D&&D(!f),e?.id===c&&e?.defaultIsAsc===f?ge():J(e?.defaultIsAsc))},je=()=>n.map(e=>e?.[a]),K=v.length===n.length,be=e=>A.includes(e?.[a]),U=e=>!be(e),we=typeof n?.[0]?.[c]=="string"&&isNaN(Number(n?.[0]?.[c])),Ne=!!p?.sortConfig&&p?.sortConfig,d=s.useMemo(()=>{if(!c)return n;const{key:e,mapper:l}=ce||{},r={isAsc:f,isString:we,...p.sortConfig};return He(n,c,r,e===c&&l)},[JSON.stringify(n),c,f,Ne]),q=S||o.filter(e=>E.includes(e.id)),G=s.useMemo(()=>o.filter(U),[o.length,A.length]),Q=q&&N?q:G,g=s.useMemo(()=>Q.filter(U),[A,Q.length]),ve=e=>te.includes(e?.title),ye=e=>ve(e?.[a])?"":e.title&&P(e.title,!1,!1),Re=e=>y(e)?"arrow-up":"arrow-down",Te=b?g.length+1:g.length,X=(e,l)=>`${e} ${l}`,Ee=e=>{z(e.id)},Se=()=>{z(null)},ke=e=>{if(e?.id===c)return f;if(e.id===O)return e.defaultIsAsc},Ae=e=>ne&&(e?.id===c||e.id===O)&&!F(e),Me=()=>{x.current&&(x.current.scrollTop=0)},Le=()=>{const l=h*64;I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{if(x.current){const r=x.current.scrollTop>l;de(r)}},150)};return s.useEffect(()=>{m?.current&&(m.current.onclick=()=>{K?(B([]),m.current.textContent="Expand All"):(B(je()),m.current.textContent="Collapse All")})},[m?.current,K]),s.useEffect(()=>{M||L.current.forEach((e,l)=>{if(e&&l<L.current.length-1){const r=e.getBoundingClientRect().width;Z.current[l].style.width=`${r}px`}})},[g,M]),s.useEffect(()=>{w&&w.current?.style.setProperty("--rows-number",`${h}`)},[h,w]),t.jsxs("div",{className:i("table-wrapper border-6 border-default bg-neutral-1000",{"p-2":j},ae),ref:fe,children:[t.jsx(C,{at:!j,children:t.jsxs("table",{ref:w,className:i({clickable:$}),children:[t.jsx(C,{at:d.length>0,children:t.jsxs("button",{className:i("return-to-top-btn absolute-center-x-button px-3 py-2-5 flex-center gap-2 border-3-5 bg-primary-opacity primary-opacity-hover",{"visible-btn":oe}),onClick:Me,children:[t.jsx(Je,{}),t.jsx("span",{className:"text-vdao font-3-5",children:"Return to top"})]})}),!M&&t.jsx("thead",{className:i("bg-neutral-700",{"hide-at-m-screen":b}),children:t.jsx("tr",{className:i({"no-records":d.length===0}),children:g.map((e,l)=>t.jsx("th",{ref:r=>Z.current[l]=r,className:e.thClass,children:t.jsxs("div",{className:i("align-center d-flex gap-sm",{"justify-end":e.thClass?.includes("text-right")}),onClick:()=>Ce(e),onMouseEnter:()=>Ee(e),onMouseLeave:Se,children:[t.jsxs("span",{className:i("align-center th-text-color th-hover-effect d-flex gap-1",{disabled:F(e),"text-primary":p.id===e.id&&d.length>0}),children:[e.renderTitle?e.renderTitle():ye(e),t.jsx(C,{at:d.length>0,children:t.jsx(Ue,{className:i("transition",Ae(e)?"visible opacity-1":"hidden opacity-0",p.id===e.id?"icons-fill-primary":"icons-fill-secondary",{"rotate-180":ke(e)})})})]}),e.hint&&t.jsx(We,{className:"table-wrapper-tooltip",text:e.tooltipText,children:t.jsx(V,{name:"info-outlined",className:"table-header-hint"})})]})},e.title||l))})}),t.jsx("tbody",{className:i("hide-scroll-bar",{"overflow-y-auto":d.length>h}),style:{maxHeight:(h-.5)*64+8},ref:x,onScroll:Le,children:d.map((e,l)=>t.jsxs(s.Fragment,{children:[t.jsxs("tr",{onClick:()=>pe(e),className:i(T,{expanded:y(e)}),children:[g.map((r,Y)=>t.jsx("td",{className:i(r.tdClass,{"hover-neutral-700":$}),ref:Ie=>L.current[Y]=Ie,children:t.jsx("div",{className:i({"mr-5 ":r.hint&&r.numberContent,"mr-6":r.mr,"ml-neg-1":r.ml}),children:r.render?.(e,e?.[r?.[a]],l)||e?.[r?.[a]]||r.default})},r?.[a]||Y)),t.jsx(t.Fragment,{children:N&&b&&t.jsx("td",{className:"show-mobile-table-row",children:t.jsx(V,{className:"table-wrapper-icon",name:Re(e)})})})]},X(a,l)),N&&b&&y(e)&&t.jsx("tr",{className:"rounded-col",children:t.jsx("td",{colSpan:Te,className:"expanded",children:t.jsx(Ze,{children:t.jsx(t.Fragment,{children:ie(e,G)})})})})]},X(a,l)))})]})}),t.jsx(C,{at:!!H&&!d.length&&!j,children:se||t.jsx(R,{type:"neutral-200",className:"w-fit-content m-auto",py:"25px",px:"65px",children:t.jsx($e,{sm:!0,className:"d-block text-center font-light",children:P(H)})})}),t.jsx("div",{className:"flex flex-center-x w-100 text-light text-center",children:t.jsx(Oe,{loading:j,count:3,wrapperClass:"d-flex flex-column gap-md",minHeight:"3vh"})})]})}export{Ge as E,Qe as T};