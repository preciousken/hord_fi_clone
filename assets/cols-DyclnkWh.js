import{j as t,T as v,p as _,aR as E,dc as N,y as D,f as I,F as L,k as g,N as F,r,bf as l,c as d,a6 as S,a as P,dd as R,de as V,df as k,dg as W}from"./index-DrakyAIp.js";const H="--",O=(e,o)=>{if(!e)return{text:H};const{[o]:n}=e,s=T(E(new Date(n)).fromNow(!0)),i=N(new Date(n));return{text:s,tooltip:i}},K=({record:e,dateProp:o="created_at",formatAgeFn:n=O,tooltipProps:s})=>t.jsx(v,{mobilePlacement:"right",show:!!n(e,o).tooltip,text:s?s.text:n(e,o).tooltip,transaltionParams:{formattedDate:n(e,o).tooltip},...s,children:t.jsx(_,{className:"font-3-5 md-font-3 white-space-pre font-400 line-height-6 text-color-secondary",text:n(e,o).text})});function M({record:e,positionInTable:o=1}){const{loadingHethInfo:n}=D(a=>({loadingHethInfo:a.ethStaking.hethInfo.isLoading})),s=p(e),i=o!==0?"top":"bottom";return t.jsx(I,{loading:n,children:t.jsx(L,{className:"flex-center gap-sm flex-start",fullWidth:!1,children:t.jsxs(g,{sm:!0,className:"white-space-pre w-fit-content d-flex flex-center-y gap-1 font-500",children:[t.jsx(F,{showFullNumber:!0,inTable:!0,decimals:5,min:1e-4,number:s,tooltipProps:{placment:i},tooltipNumber:s,textProps:{className:"font-4 md-font-3-5"}}),t.jsx(_,{text:"vdao.eth-staking.eth",className:"text-color-secondary font-4 md-font-3-5"})]})})})}const c=e=>r.createElement("svg",{width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("g",{id:"icon_exit_20"},r.createElement("g",{id:"Vector"},r.createElement("path",{d:"M14.5461 1.66602H12.3794C9.71276 1.66602 8.04609 3.33268 8.04609 5.99935V9.37435H13.2544C13.5961 9.37435 13.8794 9.65768 13.8794 9.99935C13.8794 10.341 13.5961 10.6243 13.2544 10.6243H8.04609V13.9993C8.04609 16.666 9.71276 18.3327 12.3794 18.3327H14.5378C17.2044 18.3327 18.8711 16.666 18.8711 13.9993V5.99935C18.8794 3.33268 17.2128 1.66602 14.5461 1.66602Z",fill:"#868990"}),r.createElement("path",{d:"M4.34609 9.37435L6.07109 7.64935C6.19609 7.52435 6.25443 7.36601 6.25443 7.20768C6.25443 7.04935 6.19609 6.88268 6.07109 6.76601C5.82943 6.52435 5.42943 6.52435 5.18776 6.76601L2.39609 9.55768C2.15443 9.79935 2.15443 10.1993 2.39609 10.441L5.18776 13.2327C5.42943 13.4743 5.82943 13.4743 6.07109 13.2327C6.31276 12.991 6.31276 12.591 6.07109 12.3493L4.34609 10.6243L8.04609 10.6243V9.37435L4.34609 9.37435Z",fill:"#868990"}))));var U=(e=>(e.ACTIVE="active_online",e.ACTIVE_OFFLINE="active_offline",e.PENDING="pending",e.EXITED="exited",e.LIQUIDATED="liquidated",e.EXITING_ONLINE="exiting_online",e.EXITING_OFFLINE="exiting_offline",e.SLASHED="slashed",e))(U||{}),Y=(e=>(e.UPDATE_REWARDS="stats_maintainer",e.LAUNCH_VALIDATORS="launch_validator_maintainer",e))(Y||{});const Q=e=>{if(!e)return 0;const{all_time_income:o,execution_rewards:n,total_withdrawals:s}=e;return o+n+s},p=e=>{if(!e)return 0;const{total_withdrawals:o,execution_rewards:n,rewards_count:s}=e;return s+n+o},f="--",x="active_since",h="status",u="effectivness",z={active_online:"Active",active_offline:"Inactive",pending:"Pending",exited:"Exited",exiting_offline:"Exited",exiting_online:"Exited",liquidated:"Exited",slashed:"Exited"},w={active_online:{text:"Active",color:l("--states-success")},active_offline:{text:"Inactive",color:l("--error"),tooltip:"vdao.offline-validators-tooltip"},pending:{text:"Pending",color:l("--states-pending"),tooltip:"vdao.pending-validators-tooltip"},exited:{color:l("--icons-secondary"),text:"Exited",tooltip:"vdao.exited-validators-tooltip",iconName:"exited",Icon:c,iconWidth:12,textClass:"flex-order-2"},exiting_online:{color:l("--icons-secondary"),text:"Exiting",tooltip:"vdao.exited-validators-tooltip",iconName:"exited",Icon:c,iconWidth:12,iconClass:"flex-order-1 icons-stroke-secondary mw-5 d-flex flex-center",textClass:"flex-order-2"},exiting_offline:{color:l("--icons-secondary"),text:"Exiting",tooltip:"vdao.exited-validators-tooltip",iconName:"exited",Icon:c,iconWidth:12,iconClass:"flex-order-1 icons-stroke-secondary mw-5 d-flex flex-center",textClass:"flex-order-2"},liquidated:{color:l("--icons-secondary"),text:"Exited",tooltip:"vdao.exited-validators-tooltip",iconName:"exited",Icon:c,iconWidth:12,textClass:"flex-order-2"},slashed:{color:l("--icons-secondary"),text:"Exited",tooltip:"vdao.exited-validators-tooltip",iconName:"exited",Icon:c,iconWidth:12,iconClass:"flex-order-1 icons-stroke-secondary mw-5 d-flex flex-center",textClass:"flex-order-2"}},X=({color:e,text:o,tooltip:n,iconName:s="info-icon",Icon:i,textClass:a,iconWidth:C,iconClass:B="",tooltipWidth:j="20ch",wrapperClassName:y,positionInTable:b=5})=>{const A=b>1?"top":"bottom";return t.jsx("div",{className:y,children:t.jsx(v,{show:!!n,mobileWidth:"20ch",mobilePlacement:"left",width:j,text:n,placment:A,children:t.jsxs("div",{className:"d-flex gap-2 flex-center-y",children:[!!e&&!i&&t.jsx("div",{className:"mw-5 one-one-ratio d-flex flex-center",children:t.jsx(R,{color:e})}),t.jsxs("div",{className:d("d-flex gap-2 flex-center-y"),children:[t.jsx(g,{className:d(a,"font-500 font-4 md-d-none"),children:o}),i&&t.jsx(i,{className:d("mw-5 icon-validator"),width:C})]})]})})})},J=e=>`${V}/validator/${e}`,T=e=>{if(!(!e||typeof e!="string"))return e.toLowerCase().includes("a few")?e:e.toString().split("")[0].toLowerCase()==="a"?e.replace(/^(a|an)\b/g,"1"):e},G=(e,o)=>{if(!e)return{text:f};const{status:n}=e??{},s=e?.[o];if(n==="pending")return{text:"Pending"};if(!s)return{text:f};const i=T(E(new Date(s)).fromNow(!0)),a=N(new Date(s));return{text:i,tooltip:a}},m=e=>new Date(e).getTime(),$=(e,o,n,s)=>{const i=m(o?.[x])-m(e?.[x]);return k(e?.[h],o?.[h],s)||i},q=(e,o,n,s)=>{const i=m(o?.[x])-m(e?.[x]);return W(e?.[u],o?.[u],s)||i},ee=[{id:"validator_index",title:"vdao.validators-table-column-id",defaultIsAsc:!0,render:(e,o,n)=>t.jsx("div",{className:"h-100 d-flex flex-center-y",children:t.jsxs("div",{className:"d-flex gap-2-5 phn-gap-1 md-pl-2 ",children:[t.jsxs("div",{className:"d-flex flex-column validator-id-clmn",children:[t.jsx(v,{className:"w-fit-content",show:e?.validator_index<=0,placment:"right",width:"27ch",text:"This validator was recently launched. Full info will be updated after the validator is accepted on-chain, which can take up to 48 hours",children:t.jsx("span",{className:d("line-height-6 font-500 font-4 md-font-3-5 id-text not-ipad-text-primary",{"pending ":e?.status==="pending"}),style:{color:w?.[e.status]?.color},children:+e?.validator_index>=0?e?.validator_index:e?.status==="pending"&&"ID coming soon"||f})}),t.jsx(K,{tooltipProps:{text:"vdao.validators-launched-on",placment:"right"},dateProp:x,record:e,formatAgeFn:G})]}),t.jsx("div",{className:"d-flex gap-2 phn-gap-1 h-fit-content"})]})})},{id:"rewards_count",title:"vdao.validators-table-column-rewards",defaultIsAsc:!1,sortConfig:{process:(e,o,n,s)=>{const i=p(e),a=p(o);return s?i-a:a-i}},render:(e,o,n)=>t.jsx(M,{record:e,positionInTable:n})},{id:h,title:"vdao.validators-table-column-status",sortConfig:{process:$},render:(e,o,n)=>t.jsx(X,{...w?.[e.status],positionInTable:n}),thClass:""},{id:"effectivness",title:"vdao.validators-table-column-score",defaultIsAsc:!1,sortConfig:{process:q},render:e=>{const o=Number.isFinite(e?.effectivness)&&e?.validator_index>0;return t.jsxs("div",{className:"d-flex flex-center-y gap-5 md-gap-2",children:[t.jsx("div",{className:d({"d-flex flex-center score-wrapper px-3 py-1 md-px-2-5 md-py-0-5 md-line-height-4-5 divider-border":!0}),children:t.jsx(g,{sm:!0,className:"white-space-pre font-500 text-color-primary font-3-5 md-font-3 line-height-5",children:o?`${S(e?.effectivness,1)}%`:f})}),t.jsx("span",{className:"pointer d-flex flex-center hover-grow-effect hash-link-hover",children:t.jsx("div",{className:"d-flex flex-center icon-wrapper transition",children:t.jsx(P,{})})})]})}}];export{U as I,h as S,J as a,Y as b,Q as g,z as s,ee as v};